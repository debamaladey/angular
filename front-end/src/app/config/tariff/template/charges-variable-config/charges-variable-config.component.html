<app-header></app-header>
<app-nav></app-nav>

<section class="w-100 float-left common-wrap-all-page">
  <ng-scrollbar class="page-scroll">
    <div class="wrap-mani w-100 float-left">
      <div class="col-xl-12">
        <h1 class="float-left"> Charges Variable of Template {{templateName}}</h1>
      </div>
      <!-- <div class="alert alert-{{msgStatus}} alert-dismissible" *ngIf="msg">
        {{msg}}
      </div> -->
      <form [formGroup]="configForm" (ngSubmit)="onSubmit()">
        
          <div *ngIf="checkbox_res_chrages_status > 0" class="wrap-mani w-100 float-left" formArrayName="checkbox_res_chrages">
            <div class="col-lg-12 float-left wrap-set-value mar-top add-meter-wrap">
              <div class="bg-inner-area w-100 float-left">
                <div class="w-100 float-left checkbox-wrap check-add-edit ">
                    Resource Charges Variable
                </div>
                <div *ngFor="let nocm of checkbox_res_chrages.controls; let icm=index" [formGroupName]="icm" class="col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left section-add-box rel-pos nopad-left ">
                  <div class="w-100 float-left c-w-f rel-pos">
                    <mat-form-field class="example-full-width" appearance="outline">
                      <input matInput type="text" formControlName="tc_var_name">
                      <mat-error *ngIf="nocm.controls.tc_var_name.invalid && (nocm.controls.tc_var_name.dirty || nocm.controls.tc_var_name.touched) && nocm.controls.tc_var_name.errors.required">Resource Charges Variable Name is required.</mat-error>
                    </mat-form-field>
                    <a *ngIf="icm > 0" href="javascript:void(0);" (click)="deleteTypeRow('res_chrages',icm)" class="delete-but-table delete-but-two delete-but-three"><i
                        class="material-icons">
                        remove
                      </i>
                    </a>
                    
                  </div>
                  <a *ngIf="icm+1 == checkbox_res_chrages.controls.length" href="javascript:void(0);" (click)="cloneTypeForm('res_chrages', checkbox_res_chrages_status)" class="add-but-table add-but-two add-but-three"><i
                    class="material-icons">add</i></a>
                </div>
              </div>
            </div>
          </div>
          <div *ngIf="checkbox_env_chrages_status > 0" class="wrap-mani w-100 float-left" formArrayName="checkbox_env_chrages">
              <div class="col-lg-12 float-left wrap-set-value mar-top add-meter-wrap">
                <div class="bg-inner-area w-100 float-left">
                  <div class="w-100 float-left checkbox-wrap check-add-edit ">
                      Environmental Charges Variable
                  </div>
                  <div *ngFor="let nocm of checkbox_env_chrages.controls; let icm=index" [formGroupName]="icm" class="col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left section-add-box rel-pos nopad-left">
                      <div class="w-100 float-left c-w-f rel-pos">
                        <mat-form-field class="example-full-width" appearance="outline">
                          <input matInput type="text" formControlName="tc_var_name">
                          <mat-error *ngIf="nocm.controls.tc_var_name.invalid && (nocm.controls.tc_var_name.dirty || nocm.controls.tc_var_name.touched) && nocm.controls.tc_var_name.errors.required">Environmental Charges Variable Name is required.</mat-error>
                        </mat-form-field>
                        <a *ngIf="icm > 0" href="javascript:void(0);" (click)="deleteTypeRow('env_chrages',icm)" class="delete-but-table delete-but-two delete-but-three"><i
                          class="material-icons">
                          remove
                        </i>
                      </a>
                      
                    </div>
                    <a *ngIf="icm+1 == checkbox_env_chrages.controls.length" href="javascript:void(0);" (click)="cloneTypeForm('env_chrages', checkbox_env_chrages_status)" class="add-but-table add-but-two add-but-three"><i
                      class="material-icons">add</i></a>
                    </div>
  
                </div>
              </div>
          </div>
          <div *ngIf="checkbox_fixed_chrages_status > 0" class="wrap-mani w-100 float-left" formArrayName="checkbox_fixed_chrages">
              <div class="col-lg-12 float-left wrap-set-value mar-top add-meter-wrap">
                <div class="bg-inner-area w-100 float-left">
                  <div class="w-100 float-left checkbox-wrap check-add-edit ">
                      Fixed Charges Variable
                  </div>
                  <div *ngFor="let nocm of checkbox_fixed_chrages.controls; let icm=index" [formGroupName]="icm" class="col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left section-add-box rel-pos nopad-left">
                      <div class="w-100 float-left c-w-f rel-pos">
                      <mat-form-field class="example-full-width" appearance="outline">
                          <input matInput type="text" formControlName="tc_var_name">
                          <mat-error *ngIf="nocm.controls.tc_var_name.invalid && (nocm.controls.tc_var_name.dirty || nocm.controls.tc_var_name.touched) && nocm.controls.tc_var_name.errors.required">Fixed Charges Variable Name is required.</mat-error>
                      </mat-form-field>
                      <a *ngIf="icm > 0" href="javascript:void(0);" (click)="deleteTypeRow('fixed_chrages',icm)" class="delete-but-table delete-but-two delete-but-three"><i
                          class="material-icons">
                          remove
                        </i>
                      </a>
                    </div>
                    <a *ngIf="icm+1 == checkbox_fixed_chrages.controls.length" href="javascript:void(0);" (click)="cloneTypeForm('fixed_chrages', checkbox_fixed_chrages_status)" class="add-but-table add-but-two add-but-three"><i
                          class="material-icons">add</i></a>
                  </div>
  
                </div>
              </div>
          </div>
          <div *ngIf="checkbox_load_chrages_status > 0" class="wrap-mani w-100 float-left" formArrayName="checkbox_load_chrages">
              <div class="col-lg-12 float-left wrap-set-value mar-top add-meter-wrap">
                <div class="bg-inner-area w-100 float-left">
                  <div class="w-100 float-left checkbox-wrap check-add-edit ">
                      Load Details Charges Variable
                  </div>
                  <div *ngFor="let nocm of checkbox_load_chrages.controls; let icm=index" [formGroupName]="icm" class="col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left section-add-box rel-pos nopad-left">
                      <div class="w-100 float-left c-w-f rel-pos">
                      <mat-form-field class="example-full-width" appearance="outline">
                          <input matInput type="text" formControlName="tc_var_name">
                          <mat-error *ngIf="nocm.controls.tc_var_name.invalid && (nocm.controls.tc_var_name.dirty || nocm.controls.tc_var_name.touched) && nocm.controls.tc_var_name.errors.required">Load Details Charges Variable Name is required.</mat-error>
                      </mat-form-field>
                      <a *ngIf="icm > 0" href="javascript:void(0);" (click)="deleteTypeRow('load_chrages',icm)" class="delete-but-table delete-but-two"><i
                          class="material-icons">
                          remove
                        </i>
                      </a>
                    </div>
                    
                    <a *ngIf="icm+1 == checkbox_load_chrages.controls.length" href="javascript:void(0);" (click)="cloneTypeForm('load_chrages', checkbox_load_chrages_status)" class="add-but-table add-but-two add-but-three"><i
                          class="material-icons">add</i></a>
                  </div>
  
                </div>
              </div>
          </div>
          <div *ngIf="checkbox_contract_chrages_status > 0" class="wrap-mani w-100 float-left" formArrayName="checkbox_contract_chrages">
              <div class="col-lg-12 float-left wrap-set-value mar-top add-meter-wrap">
                <div class="bg-inner-area w-100 float-left">
                  <div class="w-100 float-left checkbox-wrap check-add-edit ">
                      Contract Demand Charges Variable
                  </div>
                  <div *ngFor="let nocm of checkbox_contract_chrages.controls; let icm=index" [formGroupName]="icm" class="col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left section-add-box rel-pos nopad-left">
                      <div class="w-100 float-left c-w-f rel-pos">
                      <mat-form-field class="example-full-width" appearance="outline">
                          <input matInput type="text" formControlName="tc_var_name">
                          <mat-error *ngIf="nocm.controls.tc_var_name.invalid && (nocm.controls.tc_var_name.dirty || nocm.controls.tc_var_name.touched) && nocm.controls.tc_var_name.errors.required">Contract Demand Charges Variable Name is required.</mat-error>
                      </mat-form-field>
                      <!-- <a *ngIf="icm > 0" href="javascript:void(0);" (click)="deleteTypeRow('contract_chrages',icm)" class="delete-but-table delete-but-two"><i
                          class="material-icons">
                          remove
                        </i>
                      </a> -->
                    </div>
                    <!-- <a *ngIf="icm+1 == checkbox_contract_chrages.controls.length" href="javascript:void(0);" (click)="cloneTypeForm('contract_chrages', checkbox_contract_chrages_status)" class="add-but-table add-but-two add-but-three"><i
                          class="material-icons">add</i></a> -->
                  </div>
  
                </div>
              </div>
          </div>
        
        <div class="col-lg-12 float-left wrap-button mar-bottom">
          <button mat-raised-button class="float-left btn-common2 btn-01 mar-right" type="submit" [disabled]="!configForm.valid">Save</button>
          
          <button (click)="goToTemplateList()" mat-raised-button class="float-left btn-common2 btn-01 mar-right ">Back
                  to Template</button>
          
        </div>
      </form>

    </div>
  </ng-scrollbar>
</section>