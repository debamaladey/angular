<app-header></app-header>
<app-nav></app-nav>

<section class="w-100 float-left common-wrap-all-page">
    <ng-scrollbar class="page-scroll">
        <div class="wrap-mani w-100 float-left">
            <div class="col-xl-12">
                <h1 class="float-left">Cluster Details</h1>
            </div>
            <div class="loader" *ngIf="show_load">Loading</div>
            <div class="alert alert-danger alert-dismissible" *ngIf="errorMsg">
              {{errorMsg}}
            </div>
            <div class="alert alert-success alert-dismissible" *ngIf="succMsg">
              {{succMsg}}
            </div>
            <form [formGroup]="clusterFormGroup" (ngSubmit)="onSubmit()">
                <div class="w-100 wrap-form float-left">
                    <div class="w-100 float-left ">
                        <div class="w-100 float-left c-w-f">
                            <div class="col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left">
                                <mat-label> Name </mat-label>
                                <mat-form-field class="w-100 float-left" appearance="outline">
                                    <input type="name" matInput placeholder="Enter Name" class="input-fields" formControlName="cluster_name" >  
                                    <mat-error *ngIf="clusterFormGroup.get('cluster_name').invalid && (clusterFormGroup.get('cluster_name').dirty || clusterFormGroup.get('cluster_name').touched)">
                                        Name is required
                                    </mat-error>                      
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="w-100 float-left c-w-f">
                            <div class="col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left">
                                <mat-label> Description</mat-label>
                                <mat-form-field class="w-100 float-left" appearance="outline">
                                    <textarea matInput placeholder="Enter Description" class="input-fields" formControlName="cluster_desc" >  </textarea>
                                    <mat-error *ngIf="clusterFormGroup.get('cluster_desc').invalid && (clusterFormGroup.get('cluster_desc').dirty || clusterFormGroup.get('cluster_desc').touched)">
                                        Description is required
                                    </mat-error>                      
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="w-100 float-left c-w-f">
                            <div class="col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left rel-pos">
                                <mat-label>Select Customers</mat-label>
                                <mat-form-field appearance="outline" class="w-100 float-left rel-pos clustr-drop">
                                    <mat-select disableOptionCentering formControlName="customer" multiple class="rel-pos">
                                        <mat-option value="{{data1.id}}" *ngFor="let data1 of customers">{{data1.name}}</mat-option>
                                    </mat-select>
                                    <mat-error *ngIf="clusterFormGroup.get('customer').invalid && (clusterFormGroup.get('customer').dirty || clusterFormGroup.get('customer').touched)">
                                        customer is required
                                    </mat-error>
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="w-100 float-left c-w-f rel-pos">
                            <div class="col-sm-12 col-md-6 col-lg-4 col-xl-4 float-left">
                                <div class="w-100 float-left area-customers">
                                    <span class="customer-name-wrap float-left" *ngFor="let data2 of assign_customers">
                                        <font class="float-left">{{data2.customer_name}}</font>
                                        <a (click)="deleteAssignUser(data2.relation_id,cId)" class="float-right" href="javascript:void(0);"><i class="material-icons">clear</i></a>
                                    </span>                                
                                </div>
                            </div>
                        </div>
                    </div>
                </div>             
                <div class="col-lg-12 float-left wrap-button mar-bottom">
                    <button mat-raised-button class="float-left btn-common2 btn-01 mar-right"  [disabled]="!clusterFormGroup.valid">Save</button>
                </div>
            </form>
            <button mat-raised-button class="float-right btn-common2 btn-01 mar-right addbut" routerLink="/config/cluster/list">Back</button>
        </div>

    </ng-scrollbar>
</section>